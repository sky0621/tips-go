# モック

## 調査時期

2025/7/22 now

## 前提

- GitサーバはGitHubのみ。

## 定量的な比較表

`Star`および`Watch`はGitHub上のもの。

| ライブラリ                                                                | 最終更新日       | Star数     | Watch数* | 最新バージョン        | ライセンス       | 開発元                        | ドキュメントURL                             |
|----------------------------------------------------------------------|-------------|------------|---------|------------------------|-------------|----------------------------|--------------------------------------------|
| [mockery](https://github.com/vektra/mockery)                         | 2025‑07‑16  | 6.7k  | 33      | v3.5.0               | BSD-3-Clause | vektra (GitHub)            | https://vektra.github.io/mockery/latest/ |
| [gomock (uber版)](https://github.com/uber-go/mock)                    | 2025‑07‑02 | 2.9k  | 10      | v0.5.2    | Apache‑2.0  | https://uber.github.io/#/  | https://github.com/uber-go/mock?tab=readme-ov-file#readme |
| [testify/mock](https://github.com/stretchr/testify/tree/master/mock) | 2025‑07‑01 | 24.9k | 176     | v1.10.0              | MIT         | stretchr/testify (GitHub)  | https://github.com/stretchr/testify/tree/master?tab=readme-ov-file#readme |

## 定性的な比較表

| 観点                 | mockery                                     | gomock                                         | testify/mock                               |
|----------------------|---------------------------------------------|-----------------------------------------------|--------------------------------------------|
| **人気度／コミュニティ** | ⭐⭐⭐⭐☆（Goコミュニティで広く利用、Star約7.5k） | ⭐⭐⭐⭐☆（Google公式発祥、Star約6.7k）            | ⭐⭐⭐⭐⭐（testify全体でStar約30kと圧倒的）      |
| **学習コスト**        | ⭐⭐⭐⭐☆（直感的、インターフェースから自動生成中心） | ⭐⭐☆☆☆（EXPECT構文や呼び出し順指定など学習必要） | ⭐⭐⭐⭐⭐（最も簡単、手書き感覚で直感的）        |
| **パフォーマンス考慮** | ⭐⭐⭐⭐☆（生成コードがシンプルで軽量）            | ⭐⭐⭐⭐⭐（型安全＆検証厳密、最適化されている）    | ⭐⭐⭐☆（柔軟だがモック記述が動的でやや重い）  |
| **使いやすさ**        | ⭐⭐⭐⭐☆（シンプル、go:generateと相性良い）        | ⭐⭐☆☆☆（記述が冗長、IDE補完頼り）             | ⭐⭐⭐⭐⭐（APIが非常に分かりやすい）           |
| **柔軟性**            | ⭐⭐⭐☆（基本的なモック用途には十分）              | ⭐⭐⭐⭐⭐（呼び出し順、引数検証など高度な設定可）  | ⭐⭐⭐☆（柔軟だが大規模管理には不向き）       |
| **拡張性**            | ⭐⭐⭐☆（標準的、追加拡張は限定的）                | ⭐⭐⭐⭐⭐（詳細なカスタマイズが可能）              | ⭐⭐☆☆☆（基本的に小規模用途向き）           |
| **ドキュメント**       | ⭐⭐⭐⭐☆（公式サイト＆GitHubが充実）               | ⭐⭐⭐☆（公式だがやや読みづらい）                | ⭐⭐⭐⭐☆（シンプルで情報豊富）                |
| **自動生成機能**       | ⭐⭐⭐⭐⭐（インターフェース自動生成が売り）          | ⭐⭐⭐⭐⭐（公式`mockgen`で強力だが設定が複雑）     | ⭐☆☆☆☆（手書きベース、生成機能なし）        |
| **ユースケース**       | ✅ クリーンアーキ全般<br>✅ ユースケース層のリポジトリモック | ✅ 大規模＆厳密な検証が必要なシステムテスト<br>✅ 金融・高信頼領域 | ✅ 小規模・PoC<br>✅ 単発ユニットテスト向け   |

