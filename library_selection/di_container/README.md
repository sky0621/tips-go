# DIコンテナ

## 調査時期

2025/1/3 now

## 前提

- GitサーバはGitHubのみ。

## 定量的な比較表

`Star`および`Watch`はGitHub上のもの。

| 名称<br>(リンク)                                     | 最終<br>更新日  | Star   | Watch | 最新<br>Version | License    | 開発元 | ドキュメント                                    |
|----------------------------------------------|------------|--------|-------|---------------|------------|-------------------|----------------------------------------------------------|
| [uber-go/dig](https://github.com/uber-go/dig)  | 2024-09-03 | 4k     | 45    | v1.18.0       | MIT        | Uber              | [GitHub README](https://github.com/uber-go/dig)         |
| [google/wire](https://github.com/google/wire)  | 2024-02-08 | 13.2k | 110  | v0.6.0        | Apache 2.0 | Google            | [GoDoc](https://pkg.go.dev/github.com/google/wire)      |
| [samber/do](https://github.com/samber/do)      | 2024-11-26 | 1.9k  | 23   | v1.6.0        | MIT        | -（個人）           | [GitHub README](https://github.com/samber/do)           |

## 定性的な比較表

| 観点                      | [dig](https://github.com/uber-go/dig)                                                     | [wire](https://github.com/google/wire)                                                         | [do](https://github.com/samber/do)                                              |
|--------------------------|--------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|
| **人気度／コミュニティ**    | Uber製で安定したコミュニティ。IssueやPRも活発                                                | Google公式サポート＋Star数も多く、コミュニティも大きい                                              | 個人開発だが注目度上昇中。比較的アクティブにメンテナンスされている                                     |
| **学習コスト**             | リフレクションベースで、構造体タグなど若干の作法は必要。ただし概念は比較的シンプル                                 | コンパイル時にコード生成する仕組みを理解する必要があり、やや学習コストが高め                          | シンプルなAPI設計。Goに慣れていれば理解しやすい                                            |
| **パフォーマンス考慮**       | リフレクションによるオーバーヘッドはあるが、通常のDI用途では十分に高速                                       | 依存関係をコンパイル時に生成するため、ランタイムのオーバーヘッドは少なく高速                           | 実装が軽量で、小規模～中規模のプロジェクトであれば十分に高速                                 |
| **ランタイム／コンパイル時** | ランタイムベースで依存解決を行う                                                           | コンパイル時に依存関係を解析・コード生成                                                       | ランタイムベースで依存解決を行う                                                        |
| **コード生成の有無**        | なし                                                                                     | あり（wireコマンドによるコード生成）                                                             | なし                                                                             |
| **メンテナンスの活発度**     | Uberチームが継続的に更新しており活発                                                      | Google製であり、IssueやPull Request対応も比較的迅速                                               | 個人ながらIssue/PRが受け付けられており、更新も比較的頻繁                                 |
| **ドキュメント／サポート**   | READMEやテストコードなどが充実。OSSコミュニティで情報を得られる                             | GoDocや公式ドキュメント、導入ガイドが充実                                                       | READMEやサンプルがわかりやすい。シンプルがゆえに学習リソースも少なく済む                      |
| **ユースケース**            | 大規模システムやマイクロサービスなどでの柔軟な依存関係管理に適している                                        | パフォーマンスを重視し、依存関係を厳密に管理したいシーンに向いている                                  | 軽量なDIを簡単に導入したい場面や、複雑なコード生成を避けたいケース                              |

